"use strict";var _createClass=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.onload=function(){var t=document.getElementById("modal-btn"),a=document.getElementById("modal"),e=document.querySelector(".modal .js-modal-close"),r=document.getElementById("elem-title"),l=document.getElementById("elem-description"),o=document.getElementById("elem-priority");t.addEventListener("click",function(){r.value="",l.value="",a.removeAttribute("data-item"),a.classList.add("active")}),e.addEventListener("click",function(){a.classList.remove("active")}),document.addEventListener("click",function(t){t.target===a&&(a.classList.remove("active"),a.removeAttribute("data-item"))}),document.getElementById("search").onkeyup=function(){for(var t=this.value,e=document.getElementsByClassName("item"),i=0;i<e.length;i++){-1!==e[i].querySelector(".item__title").innerHTML.toLowerCase().indexOf(t.toLowerCase())&&0<t.length?e[i].style.display="":0===t.length?e[i].style.display="":e[i].style.display="none"}};var i=(_createClass(s,[{key:"saveItem",value:function(t){return this.itemArray.push(t),this.itemArray}}]),s);function s(){_classCallCheck(this,s),this.itemArray=[]}var c=(_createClass(n,[{key:"render",value:function(){return{title:this.title,description:this.description,priority:this.priority}}},{key:"template",value:function(){var t=this.render();return'<div class="item" data-status="open">\n                        <div class="item__wrapper">\n                            <div class="item__title">'+t.title+'</div>\n                            <div class="item__description">'+t.description+'</div>\n                            <div class="item__container">\n                                <div class="item__priority">'+t.priority+'</div>\n                                <div class="item__button-wrapper">\n                                    <button type="button" class="item__options">...</button>\n                                    <ul class="item__dropdown">\n                                        <li class="item__status" data-status="done">done</li>\n                                        <li class="item__status" data-status="edit">edit</li>\n                                        <li class="item__status" data-status="delete">delete</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>'}},{key:"setItemParams",value:function(){r.value=this.title,l.value=this.description,o.innerHTML=this.priority}},{key:"updateItem",value:function(t){this.item=t,this.item.querySelector(".item__title").innerHTML=this.title,this.item.querySelector(".item__description").innerHTML=this.description,this.item.querySelector(".item__priority").innerHTML=this.priority}}]),n);function n(t,e,i){_classCallCheck(this,n),this.title=t,this.description=e,this.priority=i}var d=(_createClass(m,[{key:"getValue",value:function(){return this.attr}}]),m);function m(t){_classCallCheck(this,m),this.attr=t,console.log(this.attr)}var u=document.getElementById("create-item"),v=document.getElementById("item-wrapper"),h=new i;u.addEventListener("click",function(){var t=r.value,e=l.value,i=o.innerHTML,s=new c(""+t,""+e,""+i);if("edit"===a.getAttribute("data-item")){var n=document.querySelector(".item.edit");new c(t,e,i).updateItem(n),n.classList.remove("edit"),a.classList.remove("active")}else v.insertAdjacentHTML("beforeend",s.template()),h.saveItem(s),a.classList.remove("active"),a.removeAttribute("data-item")}),document.addEventListener("mouseup",function(t){var e=t.target;"item__options"===e.className&&e.nextElementSibling.classList.toggle("active"),t.target&&"item__status"===t.target.className&&t.target.addEventListener("click",function(){var t=this.getAttribute("data-status");if(this.parentNode.classList.remove("active"),"delete"===t)this.closest(".item").remove();else if("done"===t)this.closest(".item__wrapper").classList.add("active"),this.closest(".item").setAttribute("data-status","done");else if("edit"===t){this.closest(".item").classList.add("edit");var e=this.closest(".item").querySelector(".item__title").textContent,i=this.closest(".item").querySelector(".item__description").textContent,s=this.closest(".item").querySelector(".item__priority").textContent;new c(e,i,s).setItemParams(),a.setAttribute("data-item","edit"),a.classList.add("active")}})});for(var p=document.getElementsByClassName("filter"),_=document.getElementsByClassName("filter__dropdown"),y=0;y<p.length;y++)p[y].addEventListener("click",function(){var t=this.querySelector(".filter__dropdown");this.classList.toggle("active"),t.classList.toggle("active")});for(var f=0;f<_.length;f++)for(var g=_[f].children,L=0;L<g.length;L++)g[L].addEventListener("click",function(){var t=this.innerHTML;this.parentElement.previousElementSibling.innerHTML=t,this.parentElement.previousElementSibling.setAttribute("data-options",t),new d(t).getValue()})};